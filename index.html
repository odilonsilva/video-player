<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video player</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        color: silver;
    }

    .player-container,
    .player-tools,
    video {
        position: relative;
        width: 754px;
        height: 424px;
    }

    .player-tools {
        position: absolute;
        display: flex;
        background-color: #000000ab;
        height: 50px;
        bottom: 1px;
        z-index: 1;
    }

    .tools {
        width: 50%;
        display: flex;
        flex-direction: row;
        padding: 10px;
    }

    .tools-right {
        justify-content: flex-end;
        align-items: flex-end;
    }

    .btn {
        margin-left: 10px;
        margin-right: 10px;
        height: 30px;
        width: 30px;
        color: teal;
    }

    .pull-right {
        text-align: right;
    }

    .btn:hover {
        color: #1b1b1bab;
    }

    .slider-volume-container {
        opacity: 0;
        position: absolute;
        background: #000000ab;
        padding: 3px;
        height: 30px;
        width: 200px;
        bottom: 132px;
        z-index: 5;
        transform: rotate(-90deg);
        left: 87px;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }

    .slider-volume {
        -webkit-appearance: none;
        width: 200px;
        height: 30px;
        background: #d3d3d3;
        outline: none;
        -webkit-transition: .2s;
        transition: opacity .2s;
        background: transparent;
        z-index: 7;
    }

    .slider-volume-guide{
        height: 30px;
        width: 86%;
        background-color: #f00;
        position: absolute;
        z-index: -2;
    }

    .slider-volume::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 30px;
        height: 30px;
        background: #f00;
        cursor: pointer;
    }

    .video-time {
        margin: 10px;
        margin-top: 5px;
        font-weight: 600;
        font-family: 'Segoe UI'
    }

    .player-timeline,
    .player-timeline-buffered,
    .player-timeline-seeker {
        background-color: red;
        height: 4px;
        z-index: 2;
        position: absolute;
        bottom: 50px;
    }

    .player-timeline-buffered {
        background-color: silver;
        z-index: 1;
    }

    .player-timeline-seeker {
        width: 100%;
        z-index: 5;
        background-color: transparent;
    }
</style>

<body>
    <div class="player-container">
        <video preload="none" poster="back-static.jpg">
            <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        </video>
        <div class="player-tools">
            <div class="player-timeline-seeker"></div>
            <div class="player-timeline"></div>
            <div class="player-timeline-buffered"></div>
            <div class="tools">
                <div class="btn tool-play-pause">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="play"
                        class="svg-inline--fa fa-play fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 448 512">
                        <path fill="currentColor"
                            d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z">
                        </path>
                    </svg>
                </div>

                <div class="btn tool-back">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="undo"
                        class="svg-inline--fa fa-undo fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512">
                        <path fill="currentColor"
                            d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z">
                        </path>
                    </svg>
                </div>

                <div class="btn tool-forward">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="redo"
                        class="svg-inline--fa fa-redo fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512">
                        <path fill="currentColor"
                            d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z">
                        </path>
                    </svg>
                </div>

                <div class="btn tool-volume" style="width: 39px;">
                    <div class="slider-volume-container">
                        <div class="slider-volume-guide"></div>
                        <input class="slider-volume" type="range" min="0" max="100" value="100">
                    </div>
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="volume-up"
                        class="svg-inline--fa fa-volume-up fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 576 512">
                        <path fill="currentColor"
                            d="M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z">
                        </path>
                    </svg>
                </div>

                <div class="video-time">--:-- / --:--</div>

            </div>
            <div class="tools tools-right">
                <div class="btn tool-settings">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cog"
                        class="svg-inline--fa fa-cog fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512">
                        <path fill="currentColor"
                            d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z">
                        </path>
                    </svg>
                </div>
                <div class="btn tool-fullscreen">
                    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="expand"
                        class="svg-inline--fa fa-expand fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 448 512">
                        <path fill="currentColor"
                            d="M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelector('body').addEventListener('contextmenu', function (e) { e.preventDefault() });
        var video = document.querySelector('video');
        var btnPlay = document.querySelector('.tool-play-pause');
        var videoTime = document.querySelector('.video-time');
        var timeLine = document.querySelector('.player-timeline');
        var timeLineSeeker = document.querySelector('.player-timeline-seeker');
        var timeLineBufferd = document.querySelector('.player-timeline-buffered');
        var sliderVolumeGuide = document.querySelector('.slider-volume-guide');
        var sliderVolume = document.querySelector('.slider-volume');
        var sliderVolumeContainer = document.querySelector('.slider-volume-container');
        var playerInterval = null;

        sliderVolume.addEventListener('input', setVolume);
        timeLineSeeker.addEventListener('click', goTo);
        btnPlay.addEventListener('click', play);
        document.querySelector('.tool-volume').addEventListener('mouseover',function(){
            sliderVolumeContainer.style.cssText = 'opacity:1';
        })

        function play() {
            if (playerInterval == null) {
                playerInterval = setInterval(function () { setCurrentTime() }, 100);
                video.play();
            }
            else {
                clearInterval(playerInterval);
                video.pause();
                playerInterval = null;
            }

            console.log(playerInterval)
        }

        function fullScreen() {
            video.height = 0;
        }

        function setCurrentTime() {
            timeLineBufferd.style.cssText = 'width:' + (video.buffered.end(video.buffered.length - 1) / video.duration) * 100 + '%';
            timeLine.style.cssText = 'width:' + (video.currentTime / video.duration) * 100 + '%';
            var hourDuration = Math.floor(video.duration / 3600);
            var minDuration = Math.floor(video.duration / 60);
            var secDuration = Math.floor((video.duration / 60) % 1 * 60);

            var hourCurrent = Math.floor(video.currentTime / 3600);
            var minCurrent = Math.floor(video.currentTime / 60);
            var secCurrent = Math.floor((video.currentTime / 60) % 1 * 60);
            videoTime.innerText = converTime(hourDuration, minCurrent, secCurrent) + ' / ' + converTime(hourDuration, minDuration, secDuration);

        }

        function goTo(event) {
            var seek = (event.clientX / timeLineSeeker.clientWidth) * 100;
            video.currentTime = (video.duration * seek) / 100;
        }

        function setVolume(event) {
            var currValue = sliderVolume.value / 100;
            video.volume = currValue;
            sliderVolumeGuide.style.cssText = 'width:calc(' + String(currValue * 100) + '% - 5px)';
            // console.log(currValue);
        }

        function converTime(hour, min, sec) {
            if (hour == 0) hour = ''
            if (hour > 0 && hour < 10)
                hour = '0' + String(hour) + ':';
            if (hour > 10)
                hour = String(hour) + ':';
            if (min < 10)
                min = '0' + String(min) + ':';
            if (min > 10 && min < 60)
                min = String(min) + ':';
            if (sec < 10)
                sec = '0' + String(sec);
            if (sec > 10 && sec < 60)
                sec = String(sec);

            return hour + min + sec;
        }

    </script>
</body>

</html>